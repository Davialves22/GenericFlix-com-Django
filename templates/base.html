<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    {% load static %}  <!-- Carrega as tags estáticas e sass aqui -->

    <title>
        {% block titulo %}{% endblock %}
    </title>

    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">

    <!-- Tailwind -->
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>

    <!-- Favicon -->
    <link rel="shortcut icon" href="{% static 'images/android-chrome-512x512.png' %}" type="image/x-icon">

    {% block head %}
    {% endblock %}

</head>
<body class="bg-black text-white font-primary">

  {% include 'navbar.html' %}
  {% block content %}
  {% endblock %}

<script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
<script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>

  <script>
document.addEventListener('DOMContentLoaded', function() {
    // Esta função inicializa um carrossel.
    // Ela será chamada para cada carrossel que você tiver na página.
    const initCarousel = (carouselElement) => {
        const track = carouselElement.querySelector('.carousel-track');
        const cards = carouselElement.querySelectorAll('.carousel-card');
        const prevButton = carouselElement.querySelector('.carousel-prev');
        const nextButton = carouselElement.querySelector('.carousel-next');

        if (!track || cards.length === 0 || !prevButton || !nextButton) {
            return; // Não faz nada se os elementos essenciais não existirem
        }

        const cardsPerPage = 4; // Definimos que queremos 4 cards por página
        const totalCards = cards.length;
        let currentIndex = 0;

        // Função para mover a trilha
        const moveToSlide = (index) => {
            const cardWidth = cards[0].offsetWidth; // Pega a largura de um card
            track.style.transform = `translateX(-${index * cardWidth * cardsPerPage}px)`;
        };

        // Função para atualizar o estado dos botões (habilitado/desabilitado)
        const updateButtons = () => {
            prevButton.disabled = currentIndex === 0;
            nextButton.disabled = (currentIndex + 1) * cardsPerPage >= totalCards;
        };

        // Evento para o botão "Próximo"
        nextButton.addEventListener('click', () => {
            if ((currentIndex + 1) * cardsPerPage < totalCards) {
                currentIndex++;
                moveToSlide(currentIndex);
                updateButtons();
            }
        });

        // Evento para o botão "Anterior"
        prevButton.addEventListener('click', () => {
            if (currentIndex > 0) {
                currentIndex--;
                moveToSlide(currentIndex);
                updateButtons();
            }
        });

        // Inicializa o estado dos botões
        updateButtons();
    };

    // Encontra TODOS os carrosséis na página e inicializa cada um deles
    const allCarousels = document.querySelectorAll('.carousel-container');
    allCarousels.forEach(carousel => {
        initCarousel(carousel);
    });
});
</script>

</body>
</html>